# Variáveis

## 4.1 - Conceito: o que são variáveis

Variáveis são basicamente nomes que apontam para uma determinada informação (valor).

O shell nos permite criar, atribuir e deletar variáveis.

Para criar variáveis, nós definimos um nome e atribuímos um valor a ele através do operador de atribuição `=`.

Por exemplo...

```bash
:~$ fruta="banana"
```

```bash
:~$ nomes=("Ahri", "Caitlyn", "Irelia")
```

```bash
:~$ nota=10
```

```bash
:~$ retorno=$(whoami)
```

> ⚠️ ***Importante!***
>
> *Não existem espaços antes ou depois do `=`*

<br/>

Variáveis também podem ser criadas através de comandos, como é o caso do comando interno `read`.

O comando `read` lê as informações que o usuário digita no terminal e as armazena numa variável:

    #!/usr/bin/env bash

    read -p "Digite um nome: " nome
    echo "Nome: $nome"

<br/>

## 4.2 - Nomeando variáveis

Os nomes de variáveis só podem conter...

* Letras maiúsculas e minúsculas de A a Z;
* Números;
* Sublinhado `_`

**Nomes de variáveis não podem começar com números!**

<br/>

## 4.3 - Tipos de variáveis

Algumas linguagens exigem que se defina o tipo de variável que está sendo criada, mas este não é o caso do bash.

Para criar uma variável do tipo `string`, basta atribuir ao nome um valor entre aspas simples ou duplas...

```bash
:~$ str1="Isso é uma string..."
:~$ str2='Isso também!'
```

Para criar uma variável numérica, basta atribuir ao nome um valor sem aspas...

```bash
:~$ nota=10
:~$ valor=234.50
```

Quando uma variável armazena apenas um valor, nós dizemos que essa variável é `escalar`.

Quando dizemos que os tipos de variáveis não precisam ser declarados no Bash, não queremos dizer que isso não pode ser feito.

A rigor, a menos que se declare o contrário, o Bash irá tratar todas as variáveis como `strings`.

Para declarar o tipo da variável no Bash, utilizamos o comando interno `declare`.

As opções mais utilizadas são:

* declare -i -- declara variável do tipo inteiro;
* declare -A -- declara arrays associativos;
* declare -p -- exibe os atributos da variável;

Mas a lista de opções é enorme, oferecendo recursos muito úteis para o tratamento de variáveis.

No bash, também podemos criar variáveis indexadas (arrays), que é quando uma variável armazena uma coleção de valores, cada um deles identificado por um índice.

```bash
:~$ alunos=("Evelynn", "Orianna", "Syndra")
```

Ou assim:

```bash
:~$ alunos[0]="Evelynn"
:~$ alunos[0]="Orianna"
:~$ alunos[0]="Syndra"
```

A menos que os índices tenham sido nomeados no momento da criação da array, por padrão, os valores serão indexados pelo shell com números a partir de 0.


Geralmente, no contexto da programação em Bash, quando falamos de `tipos de variáveis` é mais comum estarmos no referindo ao escopo e ao comportamento das variáveis do ponto de vista do shell.

Neste caso, existem três tipos de variáveis no shell:

- Locais: presentes apenas na sessão corrente do shell e disponíveis apenas para ele;

- De ambiente: disponíveis para todos os processos executados no shell;

- Especiais: que o próprio shell define, podendo ser tanto locais quanto de ambiente;


As `variáveis locais`, do ponto de vista do shell, são aquelas que nós criamos no terminal ou nos nossos scripts da forma que vimos até aqui nesta aula.

Elas não podem ser acessadas por outros programas e são eliminadas assim que a sessão do shell termina.

**Comando relacionado: `exit` (built-in)**

O comando `exit` encerra a sessão do shell iniciada pela execução de um script, pela abertura de um terminal ou pelo login em um console (tty).

Nos scripts, nós podemos determinar o status de saída com um número (como `0` para sucesso e `1` para erro).

Caso o status de saída seja omitido, ele será o mesmo do último comando executado.

