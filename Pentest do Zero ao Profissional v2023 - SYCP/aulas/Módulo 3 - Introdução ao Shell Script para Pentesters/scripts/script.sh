#!/bin/bash
# Na primeira linha do shellscript definimos o interpretador como bash
echo "Interface da rede:"
ifconfig
echo "##################"
echo "Listando processos:"
ps aux

# Criamos uma variável e chamamos a mesma no comando echo
nome="root"
echo "Meu usuário é $nome"


# AULA 2 - Estruturas Condicionais
echo "Digite r para Routes ou i para Interfaces de Rede:"
read entrada
if [ "$entrada" == "r" ]
then
echo "Mostrando rotas:"
route -n
elif [ "$entrada" == "i" ]
then
echo "Digite a interface da rede:"
read interface
echo "Mostrando informações da interface de rede $interface"
ifconfig $interface
else
echo "Opção inválida"
fi

echo "Quantos hosts existem no escopo alvo?"
read number

# Comparação aritmética
if (( number >= 0 && number <= 20 )); then
    echo "Valor final do pentest será: R$ 36.000"
elif (( number > 20 && number <= 60 )); then
    echo "Valor final do pentest será: R$ 50.000"
elif (( number > 60 && number <= 100))
    echo "Valor final do pentest será: R$ 100.000"
else
    echo "Consultar valor customizado com equipe"
fi


# Aula 3 - Argumentos
if [ "$1" == "r" ]
then
echo "Mostrando rotas:"
route -n
elif [ "$1" == "i" ]
then
echo "Mostrando informações da interface de rede $interface"
ifconfig $2
else
echo "Usage: ./script.sh r|i eth0"
fi


# Aula 4 - Estruturas de Repetição
# Laço while
while sleep 1
do  
    date
done

# Laço for
for  (( i=0;i<=10;i++ ))
do
    date
done

# Criamos um loop para iterar sobre IP's salvos em outro arquivo
for i in $(cat ip.txt)
do
    echo $i
done